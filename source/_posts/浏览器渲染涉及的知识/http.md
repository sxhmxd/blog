---
title: HTTP 知识
categories: [浏览器渲染涉及的知识点]
---

## 什么是 HTTP 

超文本传输协议，是一个基于请求与响应，无状态的，应用层的协议，常基于 TCP/IP 协议传输数据，互联网上应用最为广泛的一种网络协议，所有的 WWWW 文件都必须遵守这个标准。

## HTTP 的基本优化
影响一个　HTTP网络请求的因素主要有两个带宽和延迟
　＿带宽＿：当我们停留在拨号上网的阶段，带宽可能会成为一个比较严重影响请求的问题。
　＿延迟＿：
    - 浏览器阻塞：浏览器对于同一个域名，同时只能有4 个连接，超过浏览器最大数限制，后续请求就会被阻塞。
    - DNS 查询：浏览器需要知道目标服务器的IP 才能建立连接。将域名解析为IP。通常可以利用DNS缓存结果来达到减少查询的时间的目的。
    - 建立链接：HTTP 是基于TCP 协议的，浏览器最快也要在第三次握手时才能捎带 HTTP 请求报文，达到真正的建立连接。但是这些连接无法复用会导致每次请求都经历三次握手和慢启动。三次握手在高延迟的场景下影响比较明显，慢启动则对文件类请求影响较大。

## HTTP 1.0  和 HTTP 1.1 的区别

http 1.1 是当前使用最为广泛的 HTTP 协议。主要区别是：
    - 缓存处理：在HTTP 1.0 中主要使用header 里的 if-Modified-Since,Expires 来作为缓存判断的标准。http 1.1 则引入更多的缓存控制策略 例如：Entity tag if-Unmodified-Since,if-Match,if-None-Match等更多可供选择的缓存头来控制缓存策略。
    - 带宽优化及网络连接的使用，http 1.1 在请求头引入 rang 头域，它允许只请求资源的某个部分，方便开发者自由的选择以便于充分利用带宽和连接。
    - 错误通知的管理，在 http 1.1 中新增了24个错误状态响应码。
    - Host头处理：在HTTP 1.0 中认为每台服务器都绑定一个唯一的ip地址，因此，请求消息中的 URL 并没有传递主机名。因此，请求消息中的URL并没有传递主机名（hostname）。但随着虚拟主机技术的发展，在一台物理服务器上可以存在多个虚拟主机（Multi-homed Web Servers），并且它们共享一个IP地址。HTTP1.1的请求消息和响应消息都应支持Host头域，且请求消息中如果没有Host头域会报告一个错误（400 Bad Request）
    - 长连接：HTTP1.1支持长连接 和请求的流水线处理，在一个TCP连接上可以传送多个 HTTP 请求和响应，减少了建立和关闭连接的消耗和延迟，在 HTTP1.1中默认开启Connection:keep-alive,一定程度上弥补了HTTP1.0每次请求都要创建连接的缺点。

## HTTPS与HTTP的一些区别
    - HTTPS 协议需要到CA申请证书，
    - HTTP 协议运行在TCP之上，所有传输的内容都是明文，HTTPS 运行在 SSL/TLS之上，SSL/TLS运行在TCP 之上，所有传输的内容都经过加密的。
    - HTTP 和 HTTPS 使用的是完全不同的连接方式，用的端口也不一样。
    - HTTPS可以有效的防止运营商劫持。
### 什么是多路复用
多路复用：通过单一的 HTTP/2链接请求发起多重的请求-响应消息，多个请求stream 共享一个TCP连接，实现

## http 状态码 
