---
title: 前端存储
---

# Cookie

HTTP Cookie (也叫 Web Cookie 或浏览器 Cookie) 是服务器发送到用户浏览器并保存在本地的一小块数据，它会在浏览器下次向同一个服务器再发起请求时被携带并发送到服务器上，它用于告知服务端两个请求是否来自同一浏览器。

- Cookie 的作用主要有三个

  - 会话状态管理 (eg:用户登录状态、购物车、游戏分数)
  - 个性化设置 (eg:用户自定义设置、主题等)
  - 浏览器行为跟踪 (eg:跟踪分析用户行为)

- Cookie 的特点

  - Cookie 的大小受限制，一般为 4 KB;
  - 同一域名下存放 Cookie 的个数值有限制的，不同的浏览器的个数不一样，一般为 20 个;
  - Cookie 支持设置过期时间，过期后自动销毁;
  - 每次发起同域下的 HTTP 请求时，都会携带当前域名下的 Cookie;
  - 支持设置为 HttpOnly,防止 Cookie 被客户端的 JavaScript 访问。

  ```
  //设置 Cookie
  document.cookie = "name=semlinker";
  document.cookie = "favorite_food=tripe";

  //获取指定名字的cookie
  document.cookie = "test1=Hello";
  document.cookie = "test2=World";
  var myCookie = document.cookie
  .replace(/(?:(?:^|._;\s_)test2\s*\=\s*([^;]_)._$)|^.*$/, "\$1");
  alert(myCookie); // World

  ```

# localStorage

一种持久化的存储方式，不手动清除，数据就永远不会过期。采用键值对的方式存储数据，按域名将数据分别保存到对应的数据库文件里。

- localStorage 的特点：
  - 大小限制为 5MB~10MB;
  - 在同源的所有标签页和窗口之间共享数据；
  - 数据保存在客户端，不与服务器进行通信；
  - 数据持久化存在且不会过期，重启浏览器后仍然存在；
  - 对数据的操作是同步的。

```
// 通过setItem()增加一个数据项
localStorage.setItem('myName', 'Semlinker');

// 通过getItem()获取某个数据项
let me = localStorage.getItem('myName');

// 通过removeItem()移除某个数据项
localStorage.removeItem('myName');

// 移除所有数据项
localStorage.clear();
```

# sessionStorage

sessionStorage 是一种会话级别的缓存，关闭浏览器时数据会被清除。sessionStorage 的作用域是窗口级别的，不同窗口之间保存的 sessionStorage 数据是不能共享的。

- sessionStorage 的特点
  - sessionStorage 的数据只存在于当前浏览器的标签页；
  - 数据在刷新后依然存在，但是关闭浏览器标签页之后数据就会被清除；
  - 对数据的操作是同步的。

```
// 通过setItem()增加一个数据项
sessionStorage.setItem('myName', 'Semlinker');

// 通过getItem()获取某个数据项
let me = sessionStorage.getItem('myName');

// 通过removeItem()移除某个数据项
sessionStorage.removeItem('myName');

// 移除所有数据项
sessionStorage.clear();
```
