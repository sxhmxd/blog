---
title: [js知识体系, 事件]
categories: [js知识体系, 事件]
---

## 什么是事件

  JavaScript 和 HTML 之间交互是通过事件实现的，事件就是文档或浏览器窗口中发生的一些特定的交互瞬间。事件在浏览器中是以对象的形式存在

## 怎样添加事件

### DOM 元素事件属性

    ```
    <button onClick="clickFun()">添加事件</button>

   ```

### 脚本添加事件

  ```
  <button id="myBtn">点击这里</button>

  document.getElementById('myBtn').onclick = function(){
    clickFun()
  }
  document.getElementById('myBtn').addEventListener('clcik',function(){
    clickFun()
  },false)

  ```

## 事件流

    `事件捕获、事件冒泡、原事件`
    
### 事件捕获

  事件捕获：事件从最不具体的节点开始接收(document),传递到最具体的节点,事件捕获的本意时当事件到达预定目标前捕获它。

当我们点击页面代码中id为box的div块，点击事件会按照如下顺序传播
document ---> html ---> body ---> div

![事件捕获](https://segmentfault.com/img/bVYi7V?w=394&h=324)

### 事件冒泡
  
  IE 的事件流称为事件冒泡
  事件冒泡：事件由最具体的元素接收，逐级向上传播到不具体的节点(document)
  
  当我们点击id 为box 的代码块时，点击事件会按照如下顺序传播

  div ---> body ---> html ---> document
  
  ![事件冒泡](https://segmentfault.com/img/bVYi6Y?w=435&h=368)

### DOM2 级事件流
  为了能够兼容上述两种事件模型，又提出了一个 DOM2级事件模型，它规定了事件流包含三个阶段

  - 事件捕获阶段: 为事件捕获提供机会
  - 处于目标阶段: 事件的目标接收到事件(但并不会做出响应)
  - 事件冒泡阶段: 事件响应阶段

### 事件流的典型应用 ———— 事件代理

 事件代理的原理就是事件冒泡和目标元素，把事件处理添加到父元素，等待子元素事件冒泡，并且父元素能够通过 target 判断是哪个子元素，从而做相应的处理。

 - 事件代理的好处
  - 将多个事件处理器减少到一个，事件处理器需要驻留在内存，这样提高了性能
  - DOM 更新无需重新绑定事件处理器，如果新增子元素，直接修改事件代理的事件处理函数即可，不需要重新绑定处理器，不需要再次循环遍历。
